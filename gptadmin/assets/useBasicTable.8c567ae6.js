var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,n=(e,n)=>{for(var s in n||(n={}))r.call(n,s)&&a(e,s,n[s]);if(t)for(var s of t(n))o.call(n,s)&&a(e,s,n[s]);return e};import{g as s}from"./index.7bae97b9.js";import{r as l,u as i,_ as p,a as d}from"./vendor.1bc4be78.js";function c({columns:e,formConfig:t,formSchemas:r,formCardOptions:o,options:a,showTableCard:c=!0}){const u=d({}),[b,{reload:f,setProps:m}]=function(e){const t=l(null),r=l(!1),o=l(null);let a;function n(){return i(t)}return[function(n,l){i(r)&&n===i(t)||(t.value=n,o.value=l,e&&n.setProps(s(e)),r.value=!0,null==a||a(),a=p((()=>e),(()=>{e&&n.setProps(s(e))}),{immediate:!0,deep:!0}))},{reload:async e=>{n().reload(e)},setProps:e=>{n().setProps(e)}}]}(n({columns:e,formConfig:r&&r.length?n({labelWidth:90,submitOnReset:!0,actionColOptions:{offset:0,span:6,style:{textAlign:"left"}},actionRowProps:{style:{marginTop:"15px"}},baseColProps:{span:6},rowProps:{gutter:24},labelPosition:"left",schemas:r,submitButtonOptions:{text:"搜索"},resetButtonOptions:{}},t||{}):null,formCardOptions:n({style:{marginBottom:"10px"}},o||{}),border:!0,tableCardOptions:c?null:{bodyStyle:{padding:"0"},style:{border:"none",background:"transparent",borderRadius:"unset",boxShadow:"none"}}},a||{}));return{registerTable:b,reload:f,setProps:m,handleSearchInfoChange:(e,t=!0)=>{t&&e.created_at&&2===e.created_at.length&&-1===e.created_at.join("~").indexOf(":")&&(e.created_at[0]=e.created_at[0]+" 00:00:00",e.created_at[1]=e.created_at[1]+" 23:59:59"),u.created_at=(e.created_at||[]).join("~")},extraParams:u}}export{c as u};
