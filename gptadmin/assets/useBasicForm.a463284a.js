var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,l=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&a(e,o,t[o]);if(n)for(var o of n(t))r.call(t,o)&&a(e,o,t[o]);return e};import{u as i}from"./index.a35ddce3.js";import{X as c,r as p,u}from"./vendor.1bc4be78.js";import{i as d}from"./index.a7987ea2.js";function f(e,n){for(let s=0;s<e.length;s++){const r=e[s],{component:a}=r;let i="onChange";["Input","Slider"].includes(a)&&(i="onInput");const p=c.exports.cloneDeep(r.componentProps);d(r.componentProps)||(r.componentProps=({schema:e,formModel:s})=>{var r;return r=l({},p),t(r,o({[i]:t=>{s[e.field]=t,n(s)}}))})}return e}function m({schemas:e,options:t,emit:o,change:n,submit:s}){const r=p({}),[a,{validate:c,setProps:d,resetFields:m,setFieldsValue:b,validateFields:h,getAllFieldsValue:g,clearValidate:v,resetSchema:y}]=i(l({labelCol:{span:8},wrapperCol:{span:10},schemas:f(e,O),showActionButtonGroup:!1,actionColOptions:{span:24,offset:6,style:{textAlign:"left",float:"unset"}},submitButtonOptions:{text:"提交"},submitFunc:async function(){try{const e=await c();s&&s(e)}catch(e){}}},t||{}));function O(e){r.value=l(l({},u(r)),u(e)),n&&n(u(r)),o&&o("change",u(r))}return{register:a,validate:c,setProps:d,setFieldsValue:b,validateFields:h,getAllFieldsValue:g,resetFields:m,resetSchema:function(e){y(f(e,O))},formsFieldsValue:r,changeEvent:O,initValues:e=>{const t={};Object.keys(e).forEach((o=>{t[o]=e[o]})),O(t),null==b||b(t)},clearValidate:v}}export{m as u};
