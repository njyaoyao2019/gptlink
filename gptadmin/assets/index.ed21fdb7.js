var e,t,a=Object.defineProperty,o=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(e,t,o)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,c=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&l(e,a,t[a]);if(r)for(var a of r(t))i.call(t,a)&&l(e,a,t[a]);return e},d=(e,t)=>o(e,n(t));import{d as u,r as m,a as p,o as g,c as f,b as h,e as _,f as b,w as v,g as y,h as k,i as S,u as P,j as O,l as C,k as w,m as x,n as j,p as L,q as E,t as T,s as I,v as A,x as M,y as R,E as D,z as V,A as $,B as z,C as U,D as B,F as q,G as F,H as N,I as G,J as W,K as H,L as Y,M as J,N as X,O as Q,P as Z,Q as K,R as ee,S as te,T as ae,U as oe,V as ne,W as re,X as se,Y as ie,Z as le}from"./vendor.1bc4be78.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ce=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));const de={},ue=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/admin/${e}`)in de)return;de[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},me=()=>ue((()=>import("./index.9f0ee3e5.js")),["assets/index.9f0ee3e5.js","assets/index.5ab746a5.css","assets/vendor.1bc4be78.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/index.8e94b193.js","assets/index.c31dc87f.css"]),pe=e=>()=>ue((()=>import("./index.8e94b193.js")),["assets/index.8e94b193.js","assets/index.c31dc87f.css","assets/vendor.1bc4be78.js"]),ge={getString(e){if(e)return window.localStorage.getItem(e)},setString(e,t){if(e)return window.localStorage.setItem(e,t),{[e]:t}},getObject(e){if(!e)return;const t=this.getString(e);return t?JSON.parse(t,((e,t)=>{const a=t?t.toString().match(/function[^(]*\(([^)]*)\)\s*\{([\s\S]*)\}/):"";if(a){const e=a[1].split(",").map((e=>e.trim()));return new Function(e,a[2])}return t})):void 0},setObject(e,t,a=!1,o={type:"excepts",patterns:[]}){if(e)return t="object"==typeof t?JSON.stringify(t,((e,t)=>(t=-1!==o.patterns.indexOf(e)?"excepts"===o.type?void 0:t:"excepts"===o.type?t:void 0,a&&"function"==typeof t?t.toString():t))):"",this.setString(e,t)},remove(e){e&&window.localStorage.removeItem(e)},clear(){window.localStorage.clear()}};var fe,he;(he=fe||(fe={})).BASE_LOGIN="/login",he.BASE_HOME="/";var _e=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a};const be={class:"login",style:{"margin-top":"50px"}},ve={class:"login-herder cb-text-center",style:{"margin-bottom":"50px","margin-top":"30px"}},ye=y(" 管理平台 "),ke={key:0,class:"login-herder-avatar cb-m-t-20 cb-m-b-50"},Se=["src"],Pe={class:"login-form"},Oe={class:"login-btn"},Ce=y("登录");const we=u({components:{CLoginForm:_e(u({__name:"CLoginForm",props:{logo:{type:String,default:()=>""}},emits:["onSuccess"],setup(e,{emit:t}){const a=m(null),o=m(!1),n=p({username:"",password:""}),r=p({username:[{required:!0,message:"请输入账号密码",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]});g((()=>{const e=ge.getString("loginFromData"),t=ge.getString("loginCheck");if(e){const{username:t,password:a}=JSON.parse(e);n.username=t,n.password=a}t&&(o.value="1"===t)}));const s=async()=>{a.value&&await a.value.validate(((e,a)=>{e&&Rt().user.login(c({},n)).then((({err_code:e,data:a})=>{0===e&&(t("onSuccess",a),o.value?(ge.setString("loginFromData",JSON.stringify(n)),ge.setString("loginCheck","1")):(ge.setString("loginFromData",""),ge.setString("loginCheck","")))})).catch((e=>{}))}))};return(t,o)=>{const i=k("el-input"),l=k("el-form-item"),c=k("el-form"),d=k("el-button");return S(),f("div",be,[h("div",ve,[ye,e.logo?(S(),f("div",ke,[h("img",{src:e.logo,class:"img cb-w-h-90",alt:"logo"},null,8,Se)])):_("",!0)]),h("div",Pe,[b(c,{ref_key:"formRef",ref:a,model:n,rules:r},{default:v((()=>[b(l,{prop:"username"},{default:v((()=>[b(i,{modelValue:n.username,"onUpdate:modelValue":o[0]||(o[0]=e=>n.username=e),placeholder:"请输入账号","prefix-icon":P(O)},null,8,["modelValue","prefix-icon"])])),_:1}),b(l,{prop:"password"},{default:v((()=>[b(i,{modelValue:n.password,"onUpdate:modelValue":o[1]||(o[1]=e=>n.password=e),type:"password",placeholder:"请输入登录密码","prefix-icon":P(C)},null,8,["modelValue","prefix-icon"])])),_:1})])),_:1},8,["model","rules"])]),h("div",Oe,[b(d,{type:"primary",round:"",style:{width:"100%"},onClick:s},{default:v((()=>[Ce])),_:1})])])}}}),[["__scopeId","data-v-a0ed5af4"]])},setup(){const e=m(!1),t=L(),a=null==t?void 0:t.appContext.config.globalProperties,o=w(),n=x(),r=j((()=>o.getters.getWebConfig||{}));return{handleSelectQrLogin:()=>{e.value=!e.value},handleLoginSuccess:e=>{ge.setString("expire_at",E().unix()+1*e.expire_in),o.commit("setAuthInfo",e);const{query:t}=a.$router.currentRoute.value,r=t&&t.redirect||"";n.replace({path:r||fe.BASE_HOME})},isQr:e,webConfig:r}}}),xe={class:"page-login"},je={class:"login-left"},Le={class:"login-main"},Ee={class:"login-main-footer"},Te={href:"https://beian.miit.gov.cn/",target:"_blank"};var Ie=_e(we,[["render",function(e,t,a,o,n,r){const s=k("CLoginForm");return S(),f("div",xe,[h("div",je,[h("div",Le,[b(s,{onOnSuccess:e.handleLoginSuccess,logo:e.webConfig.web_logo},null,8,["onOnSuccess","logo"])]),h("div",Ee,[h("a",Te,T(e.webConfig.icp),1)])])])}],["__scopeId","data-v-23b3be22"]]);const Ae=e=>(A("data-v-087d42bb"),e=e(),M(),e),Me={class:"home cb-p-20"},Re=Ae((()=>h("div",{class:"home-title"}," 注册用户数",-1))),De={class:"home-value"},Ve=Ae((()=>h("div",{class:"home-title"}," 支付金额",-1))),$e={class:"home-value"},ze=Ae((()=>h("br",null,null,-1))),Ue=Ae((()=>h("div",{class:"home-title"},[y(" GPTLink剩余积分 （"),h("a",{href:"https://gpt-link.com/combo",target:"_blank",style:{color:"red"}},"去充值"),y("）")],-1))),Be={class:"home-value"},qe=Ae((()=>h("div",{class:"home-title"},"GPTLink已消耗积分",-1))),Fe={class:"home-value"},Ne=Ae((()=>h("div",{class:"home-title"},[y(" GPTLink剩余短信 （"),h("a",{href:"https://gpt-link.com/combo",target:"_blank",style:{color:"red"}},"去充值"),y("）")],-1))),Ge={class:"home-value"},We=Ae((()=>h("div",{class:"home-title"},"GPTLink短信用量",-1))),He={class:"home-value"};var Ye=_e(u({__name:"home",setup(e){const t=m({}),a=m({});g((()=>{o(),n()}));const o=()=>{Rt().user.getDevelopPackage().then((({err_code:e,data:a})=>{e||(t.value=a)})).catch((e=>{}))},n=()=>{Rt().user.getStatistics({type:["member_count","payment_count"]}).then((({err_code:e,data:t})=>{e||(a.value=t)})).catch((e=>{}))};return(e,o)=>{const n=k("el-card"),r=k("el-col"),s=k("el-row");return S(),f("div",Me,[b(s,{gutter:12},{default:v((()=>[b(r,{span:6},{default:v((()=>[b(n,{shadow:"never"},{default:v((()=>[Re,h("div",De,T(a.value.member_count),1)])),_:1})])),_:1}),b(r,{span:6},{default:v((()=>[b(n,{shadow:"never"},{default:v((()=>[Ve,h("div",$e,T(a.value.payment_count)+" 元",1)])),_:1})])),_:1})])),_:1}),ze,b(s,{gutter:12},{default:v((()=>[t.value.chat?(S(),I(r,{key:0,span:6},{default:v((()=>[b(n,{shadow:"never"},{default:v((()=>[Ue,h("div",Be,T(t.value.chat.num-t.value.chat.used)+" 次 ",1)])),_:1})])),_:1})):_("",!0),t.value.chat?(S(),I(r,{key:1,span:6},{default:v((()=>[b(n,{shadow:"never"},{default:v((()=>[qe,h("div",Fe,T(t.value.chat.used)+" 次 ",1)])),_:1})])),_:1})):_("",!0),t.value.sms?(S(),I(r,{key:2,span:6},{default:v((()=>[b(n,{shadow:"never"},{default:v((()=>[Ne,h("div",Ge,T(t.value.sms.num-t.value.sms.used)+" 次 ",1)])),_:1})])),_:1})):_("",!0),t.value.sms?(S(),I(r,{key:3,span:6},{default:v((()=>[b(n,{shadow:"never"},{default:v((()=>[We,h("div",He,T(t.value.sms.used)+" 次 ",1)])),_:1})])),_:1})):_("",!0)])),_:1})])}}}),[["__scopeId","data-v-087d42bb"]]);const Je={path:"/:path(.*)*",name:"PageNotFound",component:me,meta:{title:"ErrorPage",hideMenu:!0},children:[{path:"/:path(.*)*",name:"PageNotFound",component:()=>ue((()=>import("./error.fda4abec.js")),["assets/error.fda4abec.js","assets/error.68055553.css","assets/vendor.1bc4be78.js","assets/index.7bae97b9.js","assets/index.775ac834.css"]),meta:{title:"ErrorPage"}}]},Xe={path:"/operate",redirect:"/operate/member/index",component:me,meta:{title:"运营",icon:"cb-iconfont cb-icon-people_fill"},children:[{path:"member",component:pe(),meta:{title:"用户管理"},children:[{path:"index",component:()=>ue((()=>import("./index.4847aa2e.js")),["assets/index.4847aa2e.js","assets/index.c53b2f3b.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicTable.8c567ae6.js","assets/useDialog.6d3ee2da.js","assets/useBasicForm.d295827a.js"]),meta:{title:"用户列表"}},{path:"order",component:()=>ue((()=>import("./index.082e08c2.js")),["assets/index.082e08c2.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/userSelect.74610bdb.js"]),meta:{title:"订单列表"}}]},{path:"marketing",component:pe(),meta:{title:"运营管理"},children:[{path:"package",component:()=>ue((()=>import("./index.74bec2ed.js")),["assets/index.74bec2ed.js","assets/index.86d4e622.css","assets/vendor.1bc4be78.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/useDialog.6d3ee2da.js","assets/useBasicForm.d295827a.js"]),meta:{title:"套餐管理"}},{path:"model",component:()=>ue((()=>import("./index.e72c2c64.js")),["assets/index.e72c2c64.js","assets/index.2dd0807f.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useDialog.6d3ee2da.js","assets/useBasicForm.d295827a.js","assets/useBasicTable.8c567ae6.js"]),meta:{title:"模型/角色管理"}},{path:"task",component:()=>ue((()=>import("./index.a517c275.js")),["assets/index.a517c275.js","assets/index.e2d68aa3.css","assets/vendor.1bc4be78.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/useDialog.6d3ee2da.js","assets/useBasicForm.d295827a.js"]),meta:{title:"任务配置"}},{path:"send",component:()=>ue((()=>import("./list.039b8dce.js")),["assets/list.039b8dce.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/userSelect.74610bdb.js"]),meta:{title:"任务完成记录"}}]},{path:"code",component:pe(),meta:{title:"兑换码管理"},children:[{path:"redemptionCode",component:()=>ue((()=>import("./index.47f6e8f7.js")),["assets/index.47f6e8f7.js","assets/index.a9053032.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicTable.8c567ae6.js","assets/useDialog.6d3ee2da.js","assets/useBasicForm.d295827a.js"]),meta:{title:"兑换码"}},{path:"info/:id?",component:()=>ue((()=>import("./index.4429b45c.js")),["assets/index.4429b45c.js","assets/index.ea4701e6.css","assets/vendor.1bc4be78.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/useBasicTable.8c567ae6.js"]),meta:{hideMenu:!0,title:"兑换码基础信息",currentActiveMenu:"/marketing/code/redemptionCode"}},{path:"query",component:()=>ue((()=>import("./index.9f9b6d6b.js")),["assets/index.9f9b6d6b.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicTable.8c567ae6.js"]),meta:{title:"查询兑换码"}}]},{path:"salesman",component:pe(),meta:{title:"分销管理"},children:[{path:"salesmanUser",component:()=>ue((()=>import("./index.e98e6472.js")),["assets/index.e98e6472.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js"]),meta:{title:"分销员列表"}},{path:"salesmanOrder",component:()=>ue((()=>import("./index.9c264d3a.js")),["assets/index.9c264d3a.js","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js"]),meta:{title:"订单列表"}}]}]};var Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"}));const Ze={path:"/marketing",redirect:"/marketing/system/config",component:me,meta:{title:"系统配置",icon:"cb-iconfont cb-icon-manage_fill"},children:[{path:"system",component:pe(),meta:{title:"系统配置"},children:[{path:"config",component:()=>ue((()=>import("./system.9d157248.js")),["assets/system.9d157248.js","assets/system.e50a6216.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicForm.d295827a.js","assets/toolbarKeys.efa257c4.js"]),meta:{title:"系统配置"}},{path:"ai",component:()=>ue((()=>import("./ai.6b8c1644.js")),["assets/ai.6b8c1644.js","assets/ai.4b400f77.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicForm.d295827a.js"]),meta:{title:"AI模型"}},{path:"wechat",component:()=>ue((()=>import("./wechat.b2db383d.js")),["assets/wechat.b2db383d.js","assets/wechat.282d489d.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicForm.d295827a.js"]),meta:{title:"登录配置"}},{path:"pay",component:()=>ue((()=>import("./pay.09dead5e.js")),["assets/pay.09dead5e.js","assets/pay.57384414.css","assets/index.7bae97b9.js","assets/index.775ac834.css","assets/vendor.1bc4be78.js","assets/useBasicForm.d295827a.js","assets/toolbarKeys.efa257c4.js"]),meta:{title:"支付配置"}}]}]};var Ke=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));const et=function(){const e={"../routes/modules/operate.ts":Qe,"../routes/modules/systen.ts":Ke},t=[];return Object.keys(e).forEach((a=>{const o=e[a];t.push(o.default||o)})),t}(),tt=[Je,...et],at=[{name:"login",path:"/login/:platform?",component:Ie,meta:{auth:!1}},{path:"/",name:"root",component:me,meta:{title:"首页"},children:[{path:"",component:Ye}]},...et,Je],ot={id:"id",children:"children",pid:"pid"},nt=e=>Object.assign({},ot,e);function rt(e,t,a={}){const o=(a=nt(a)).children;return function e(a){return a.map((e=>c({},e))).filter((a=>(a[o]=a[o]&&e(a[o]),t(a)||a[o]&&a[o].length)))}(e)}function st(e,t){return e.map((e=>it(e,t)))}function it(e,{children:t="children",conversion:a}){const o=Array.isArray(e[t])&&e[t].length>0,n=a(e)||{};return o?d(c({},n),{[t]:e[t].map((e=>it(e,{children:t,conversion:a})))}):c({},n)}function lt(e){return"function"==typeof e}function ct(e,t=""){var a,o,n;for(let r=0;r<e.length;r++){const s=e[r];s.path.startsWith("/")||(n=s.path,/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/.test(n))||(s.path=`${t}/${s.path}`),(null==(a=null==s?void 0:s.children)?void 0:a.length)&&ct(s.children,(null==(o=s.meta)?void 0:o.hidePathForChildren)?t:s.path)}}function dt(e){const{menu:t}=e,a=[t];return ct(a),a[0]}function ut(e,t){const a=function(e,t,a={}){a=nt(a);const o=[],n=[...e],r=new Set,{children:s}=a;for(;n.length;){const e=n[0];if(r.has(e))o.pop(),n.shift();else if(r.add(e),e[s]&&n.unshift(...e[s]),o.push(e),t(e))return o}return null}(e,(e=>e.path===t));return(a||[]).map((e=>e.path))}var mt={namespace:!0,state:()=>({permCodeList:["1000","2000"],backRouterList:[],frontMenuList:[]}),getters:{getPermCodeList:e=>e.permCodeList,getBackRouterList:e=>e.backRouterList,getFrontMenuList:e=>e.frontMenuList},mutations:{setPermCodeList(e,t){e.permCodeList=t},setBackRouterList(e,t){e.backRouterList=t},setFrontMenuList(e,t){e.frontMenuList=t}},actions:{async buildRoutesAction({commit:e}){let t=[];const a=e=>{const{meta:t}=e,{roles:a}=t||{};return!0},o=e=>{const{meta:t}=e,{ignoreRoute:a}=t||{};return!a};t=rt(tt,a),t=t.filter(a);const n=function(e,t=!1){const a=R(e),o=[];a.forEach((e=>{var a,n;if(t&&e.meta.hideChildrenInMenu&&"string"==typeof e.redirect&&(e.path=e.redirect),null==(a=e.meta)?void 0:a.single){const t=null==(n=null==e?void 0:e.children)?void 0:n[0];t&&o.push(t)}else o.push(e)}));const n=st(o,{conversion:e=>{const{meta:{title:t,hideMenu:a=!1}={}}=e;return c(d(c({},e.meta||{}),{meta:e.meta,name:t,hideMenu:a,path:e.path}),e.redirect?{redirect:e.redirect}:{})}});return ct(n),R(n)}(t,!0);return t=rt(t,o),t=t.filter(o),n.sort(((e,t)=>{var a,o;return((null==(a=e.meta)?void 0:a.orderNo)||0)-((null==(o=t.meta)?void 0:o.orderNo)||0)})),e("setFrontMenuList",n),t}}},pt=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"})),gt={namespace:!0,state:()=>({auth:null,userInfo:{}}),getters:{getAge:e=>e.userInfo.age,getAuth:e=>e.auth,getUserInfo:e=>e.userInfo.user||{}},mutations:{setState(e,[t,a]){e[t]=a},setAuthInfo(e,t){e.auth=t,ge.remove("user_auth_info"),ge.setObject("user_auth_info",t)},logout(e){ge.remove("user_auth_info"),ge.remove("expire_at"),e.auth=null}},actions:{setUserInfo(e,t){e.commit("setState",["userInfo",t])},initUserState(e){const t=ge.getObject("user_auth_info");t&&e.commit("setAuthInfo",t)},async getUserInfo(e,t){const{isForced:a,callback:o}=t||{};if(!ge.getObject("user_auth_info")||a)try{o&&o()}catch(n){D.error(n.message||"用户信息加载失败！")}else e.commit("setState",["userInfo",ge.getObject("user_auth_info")]),o&&o()}}},ft=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"})),ht={namespace:!0,state:()=>({menuIsCollapse:!1,webConfig:{}}),getters:{getWebConfig:e=>e.webConfig||{}},mutations:{closeOpenMenuCollapse(e){e.menuIsCollapse=!e.menuIsCollapse},setWebConfigState(e,t){e.webConfig=t}}},_t=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));const bt={},vt={"./modules/model.ts":ce,"./modules/permission.ts":pt,"./modules/user.ts":ft,"./modules/web.ts":_t};Object.keys(vt).forEach((e=>{const t=vt[e],a=e.split("/").splice(-1).shift().replace(".ts","");bt[a]=t.default||t}));const yt=V({modules:bt}),kt=fe.BASE_LOGIN;const St=$({history:z("/admin"),strict:!0,scrollBehavior:()=>({left:0,top:0}),routes:at});St.beforeEach(((e,t,a)=>!1===e.meta.auth?a():function(e,t){const a=yt.state.user;a.auth||yt.dispatch("initUserState");const o=ge.getString("expire_at");if(!o||E().unix()>parseInt(o)||!a.auth){const a={path:kt,replace:!0};return t.path&&(a.query=d(c({},a.query),{redirect:t.path})),D.error("登录已失效，请重新登录"),e(a)}return e()}(a,e)));const Pt=fe.BASE_LOGIN,Ot=U.create({baseURL:null==(e={BASE_URL:"/admin/",MODE:"history",DEV:!0,PROD:!1}.VITE_CHATGPT_BASE_URL)?void 0:e.toString(),timeout:3e4});Ot.interceptors.request.use((e=>{const t=yt.state,a={auth:ge.getObject("user_auth_info")||null},o=t.user;if(e.headers.common["X-Requested-With"]="XMLHttpRequest",o&&(o.auth||a.auth)){const{access_token:t,token_type:n}=o.auth||{},{access_token:r,token_type:s}=a.auth||{};e.headers.common.Authorization=(n||s)+" "+(t||r)}return"get"===e.method&&(e.url=e.url+"?"+B.stringify(e.params),e.params={}),"post"!==e.method&&"delete"!==e.method&&"put"!==e.method||(e.data=c({},e.data)),e}),(e=>Promise.reject(e))),Ot.interceptors.response.use((e=>{const t=e.data;if(t){if(t.err_code){switch(t.err_code){case 200:t.msg=t.err_msg;break;case 401:{const{path:e,query:t}=St.currentRoute.value||{};St.replace({path:Pt,query:d(c({},t),{redirect:e})});break}case 403:St.push({path:"/:path(.*)*",query:{status:403}});break;case 404:t.msg="资源不存在";break;default:t.msg}const e=setTimeout((()=>{D.error(t.err_msg||"未知异常，稍后再试吧")}));return Promise.reject({data:t,hideToast(){clearTimeout(e)}})}return Promise.resolve(t)}return Promise.reject(t)}),(e=>{e.response||"string"==typeof e.message&&("Network Error"===e.message?e.error_message="网络异常，稍后再试吧":0===e.message.indexOf("timeout")&&(e.error_message="请求超时，稍后再试吧"));const t=setTimeout((()=>{D.error(e.error_message||"未知异常，稍后再试吧")}));return Promise.reject({error:e,hideToast(){clearTimeout(t)}})}));var Ct=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{orderList:e=>Ot.get("/admin/order",{params:e}),packageList:e=>Ot.get("/admin/package",{params:e}),savePackage:e=>Ot.post("/admin/package",e),packageInfo:e=>Ot.get(`/admin/package/${e.id}`,{params:e}),putPackage:e=>Ot.put(`/admin/package/${e.id}`,e),putPackageShow:e=>Ot.put(`/admin/package/${e.id}/show`,e),getChatGptModel:e=>Ot.get("/admin/chat-gpt-model",{params:e}),getChatGptModelInfo:e=>Ot.get(`/admin/chat-gpt-model/${e.id}`,{params:e}),saveChatGptModel:e=>Ot.post("/admin/chat-gpt-model",e),putChatGptModel:e=>Ot.put(`/admin/chat-gpt-model/${e.id}`,e),putChatGptModelStatus:e=>Ot.put(`/admin/chat-gpt-model/${e.id}/status`,e),memberList:e=>Ot.get("/admin/member",{params:e}),getEnablePackage:e=>Ot.get(`/admin/member/${e.user_id}/package`,{params:e}),sendPackage:e=>Ot.post(`/admin/member/${e.user_id}/package`,e),getTask:e=>Ot.get("/admin/task",{params:e}),getTaskInvite:e=>Ot.get("/admin/task/invite",{params:e}),savaTaskInvite:e=>Ot.post("/admin/task/invite",e),getTaskRegister:e=>Ot.get("/admin/task/register",{params:e}),savaTaskRegister:e=>Ot.post("/admin/task/register",e),getTaskShare:e=>Ot.get("/admin/task/share",{params:e}),savaTaskShare:e=>Ot.post("/admin/task/share",e),updateTaskStatus:e=>Ot.put(`/admin/task/${e.type}/status`,e),getTaskList:e=>Ot.get("/admin/task/record",{params:e}),delModel:e=>Ot.delete(`/admin/chat-gpt-model/${e}`),delPackage:e=>Ot.delete(`/admin/package/${e}`),changeMemberStatus:e=>Ot.put(`/admin/member/${e}/status`),getSalesmanUser:e=>Ot.get("/admin/salesman/user",{params:e}),getSalesmanOrder:e=>Ot.get("/admin/salesman/order",{params:e}),getSalesmanUserDetail:e=>Ot.get(`/admin/salesman/user/${e}`)}}},Symbol.toStringTag,{value:"Module"}));var wt=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{getCdkList:e=>Ot.get("/admin/cdk",{params:e}),getCdkDetail:e=>Ot.get(`/admin/cdk/${e.id}`,{params:e}),editCdk:e=>Ot.put(`/admin/cdk/${e.id}`,e),getCdkGroup:e=>Ot.get("/admin/cdk/group",{params:e}),addCdk:e=>Ot.post("/admin/cdk",e),cdkExport:e=>Ot.get("/admin/cdk/export",{params:e,responseType:"blob"})}}},Symbol.toStringTag,{value:"Module"}));var xt=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{queryToke:e=>Ot.get("/admin/qiniu/token",{params:e}),queryPlatformConfig:()=>Ot.get("/admin/common/platform-config/qiniu"),setPlatFormConfig:e=>Ot.post("/admin/common/platform-config/qiniu",e),getDistrict:()=>Ot.get("/merchant/common/district"),getBasicInfo:()=>Ot.get("/config/basic-info")}}},Symbol.toStringTag,{value:"Module"}));var jt=Object.freeze(Object.defineProperty({__proto__:null,default:function(e){return{goodsCategory:t=>e.get("/mall/merchant/goods/category",{params:t})}}},Symbol.toStringTag,{value:"Module"}));var Lt=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{businessAdd:e=>Ot.post("/admin/business",e),businessList:e=>Ot.get("/admin/business",{params:e}),businessPut:e=>Ot.put(`/admin/business/${e.id}`,e),businessInfo:e=>Ot.get(`/admin/business/${e.id}`,{params:e}),businessDel:e=>Ot.delete(`/admin/business/${e.id}`,{params:e}),copyModel:e=>Ot.post(`/admin/chat-gpt-model/${e.id}/copy-gpt`,e),modelTop:e=>Ot.post(`/admin/chat-gpt-model/${e.id}/top`,e),cancelTop:e=>Ot.post(`/admin/chat-gpt-model/${e.id}/cancel-top`,e)}}},Symbol.toStringTag,{value:"Module"}));var Et=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{openConfig:e=>Ot.post(`/admin/config/${e.type}`,e),getConfig:e=>Ot.get(`/admin/config/${e.type}`,{params:e})}}},Symbol.toStringTag,{value:"Module"}));var Tt=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{materialList:e=>Ot.get("/admin/material",{params:e}),materialSave:e=>Ot.post("/admin/material",e),materialDel:e=>Ot.delete(`/admin/material/${e.id}`)}}},Symbol.toStringTag,{value:"Module"}));var It=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return{login:e=>Ot.post("/admin/login",e),developList:e=>Ot.get("/admin/develop",{params:e}),getUserDisabledRecord:e=>Ot.get("/admin/member/disabled/record",{params:e}),getUserDisabledUnlock:e=>Ot.put(`/admin/member/${e.id}/unlock`,e),getRecordList:e=>Ot.get(`/admin/member/${e.id}/record`,{params:e}),getUserDisabledReject:e=>Ot.put(`/admin/member/${e.id}/reject`,e),getUserDisabledDisabled:e=>Ot.put(`/admin/member/${e.id}/disabled`,e),getPackageRecord:e=>Ot.get("/admin/member/package/record",{params:e}),getDevelopPackage:e=>Ot.get("/admin/develop/package",{params:e}),getStatistics:e=>Ot.get("/admin/statistics/count",{params:e})}}},Symbol.toStringTag,{value:"Module"}));const At=fe.BASE_LOGIN,Mt=U.create({baseURL:null==(t={BASE_URL:"/admin/",MODE:"history",DEV:!0,PROD:!1}.VITE_BASE_URL)?void 0:t.toString(),timeout:3e4});Mt.interceptors.request.use((e=>{const t=yt.state,a={auth:ge.getObject("user_auth_info")||null},o=t.user;if(e.headers.common["X-Requested-With"]="XMLHttpRequest",o&&(o.auth||a.auth)){const{access_token:t,token_type:n}=o.auth||{},{access_token:r,token_type:s}=a.auth||{};e.headers.common.Authorization=(n||s)+" "+(t||r)}return"get"===e.method&&(e.url=e.url+"?"+B.stringify(e.params),e.params={}),"post"!==e.method&&"delete"!==e.method&&"put"!==e.method||(e.data=c({},e.data)),e}),(e=>Promise.reject(e))),Mt.interceptors.response.use((e=>{const t=e.data;if(t){if(t.err_code){switch(t.err_code){case 200:t.msg=t.err_msg;break;case 401:{const{path:e,query:t}=St.currentRoute.value||{};St.replace({path:At,query:d(c({},t),{redirect:e})});break}case 403:St.push({path:"/:path(.*)*",query:{status:403}});break;case 404:t.msg="资源不存在";break;default:t.msg}const e=setTimeout((()=>{D.error(t.err_msg||"未知异常，稍后再试吧")}));return Promise.reject({data:t,hideToast(){clearTimeout(e)}})}return Promise.resolve(t)}return Promise.reject(t)}),(e=>{e.response||"string"==typeof e.message&&("Network Error"===e.message?e.error_message="网络异常，稍后再试吧":0===e.message.indexOf("timeout")&&(e.error_message="请求超时，稍后再试吧"));const t=setTimeout((()=>{D.error(e.error_message||"未知异常，稍后再试吧")}));return Promise.reject({error:e,hideToast(){clearTimeout(t)}})}));var Rt=()=>{const e={},t={"./chatGPT.ts":Ct,"./code.ts":wt,"./common.ts":xt,"./demo.ts":jt,"./model.ts":Lt,"./open.ts":Et,"./resources.ts":Tt,"./user.ts":It};return Object.keys(t).forEach((a=>{var o;const n=t[a],r=null==(o=a.split("/").pop())?void 0:o.split(".").shift();e[r]=(n.default||n)(Mt)})),e};var Dt=_e({name:"App",components:{[q.name]:q},setup(){g((()=>{a()}));const e=m(!0),t=w();F("pageReload",(()=>{e.value=!1,N((()=>{e.value=!0}))}));const a=()=>{Rt().common.getBasicInfo().then((({err_code:e,data:a})=>{e||t.commit("setWebConfigState",a)})).catch((e=>{}))};return{isRouteActive:e,locale:G}}},[["render",function(e,t,a,o,n,r){const s=k("router-view"),i=k("el-config-provider");return S(),I(i,{locale:o.locale},{default:v((()=>[o.isRouteActive?(S(),I(s,{key:0})):_("",!0)])),_:1},8,["locale"])}],["__scopeId","data-v-7ba5bd90"]]);function Vt(e,t,a){return t.split(".").reduce(((e,t)=>t&&e&&e[t]?e[t]:void 0),e)||a}const $t=(e=!0,t=!0,a=10,o=16)=>{const n=["0","1","2","3","4","5","6","7","8","9",...e?[]:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]];let r="",s="",i=a;t&&(i=Math.round(Math.random()*(o-a))+a);for(let l=0;l<i;l++)s=Math.round(Math.random()*(n.length-1)),r+=n[s];return r},zt=Rt();var Ut=e=>new Promise((t=>{const a=`${{BASE_URL:"/admin/",MODE:"history",DEV:!0,PROD:!1}.VITE_CHATGPT_QINIU_MODE}/image/`+E().format("YYYYMMDDhhmmss")+"-"+$t()+e.name.match(/(\.\w+)$/)[1];zt.common.queryToke({path:a,expired_time:300}).then((o=>Bt(e,a,o.data.token).then((a=>{let n=a.key;0===e.type.indexOf("image")&&(n=((e,t=1920,a)=>e&&e.includes("cdn.")?e.includes("imageView2")||e.startsWith("data:")?e:(e.includes("?")?e+="&":e+="?",t&&!a?e+`imageView2/2/w/${t}`:!t&&a?e+`imageView2/2/h/${a}`:t&&a?e+`imageView2/2/w/${t}/h/${a}`:void 0):e)(n)||n),t(o.data.domain+"/"+n)})))).catch((e=>{}))}));const Bt=(e,t,a,o)=>new Promise(((n,r)=>{W(e,t,a).subscribe({next(e){o&&o(e)},error(e){r(e)},complete(e){n(e)}})}));const qt=u({name:"CBEditor",props:{initialHeight:{type:Number,default:320},placeholder:{type:String,default:"请输入正文"},showLinkImg:{type:Boolean,default:!1},excludeMenus:{type:Array,default:()=>["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","table","code","splitLine","undo","redo"]},value:{type:String},modelValue:{type:String},customInsertImage:{type:Boolean,default:!1}},emits:["update:value","change"],setup(e,{emit:t}){const a=p({id:"editor"+Math.random().toString().slice(-1),editor:null});H((()=>{var t;a.editor?(t=e.modelValue||e.value)!==a.editor.txt.html()&&(a.editor.txt.html(t),t||a.editor.txt.clear()):n()}));const o=j({get:()=>({height:e.initialHeight,placeholder:e.placeholder,menus:e.excludeMenus,showLinkImg:e.showLinkImg})});function n(){N((()=>{a.editor=new X("#"+a.id),a.editor.config=c(c({},a.editor.config),o.value),a.editor.config.zIndex=99,a.editor.config.uploadImgMaxLength=1,a.editor.config.customUploadImg=(e,t)=>{!function(e,t){const a=e[0];if(a&&a instanceof File){if(!(/^image\/gif$/.test(a.type)||/^image\/jpeg$/.test(a.type)||/^image\/png$/.test(a.type)))return void D.warning("目前仅支持上传格式为 gif, jpg, png 格式的图片文件");if(a.size/1024/1024>10)return void D.warning("目前仅支持上传大小为 10 MB 以内的图片");Ut(a).then((e=>{t(e)}))}}(e,t)},a.editor.config.onchange=e=>{t("change",e),t("update:value",e)},a.editor.config.onchangeTimeout=500,a.editor.create()}))}return Y((()=>{a.editor.destroy(),a.editor=null})),d(c({},J(a)),{initEditor:n})}}),Ft={class:"cb-wang-editor"},Nt=["id"];var Gt=_e(qt,[["render",function(e,t,a,o,n,r){return S(),f("div",Ft,[h("div",{id:e.id},null,8,Nt)])}]]),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"}));const Ht=u({name:"CbPageWrapper",props:{title:{type:String,default:""}},setup:()=>({})}),Yt={class:"page-index"};var Jt=_e(Ht,[["render",function(e,t,a,o,n,r){const s=k("el-page-header");return S(),f(Z,null,[e.title?(S(),I(s,{key:0,title:e.title,icon:""},null,8,["title"])):_("",!0),h("div",Yt,[Q(e.$slots,"default")])],64)}]]),Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"}));var Qt=_e({props:{modelValue:{type:[Array,String],default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=L(),{proxy:o}=a;null==a||a.appContext.config.globalProperties;const n=m([]);return g((()=>{o.$api.common.getDistrict().then((({data:e})=>{n.value=e}))})),{cascaderProps:{label:"name",children:"districts",value:"name"},districts:n,change:e=>{t("update:modelValue",e)}}}},[["render",function(e,t,a,o,n,r){const s=k("el-cascader");return S(),f("div",null,[b(s,{options:o.districts,"model-value":a.modelValue,clearable:"",props:o.cascaderProps,style:{width:"400px"},onChange:o.change},null,8,["options","model-value","props","onChange"])])}]]),Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}));const Kt={class:"cb-flex attribute-types"},ea=["onClick"];var ta=_e(u({__name:"index",props:{modelValue:{type:[Number,String,Array],default:1},tabs:{type:Array,default:()=>[]}},emits:["update:modelValue","change"],setup:(e,{emit:t})=>(a,o)=>(S(),f("div",Kt,[(S(!0),f(Z,null,K(e.tabs,((a,o)=>(S(),f("div",{class:ee(["type-item",{active:e.modelValue===a.value,disabled:a.disabled}]),key:o,onClick:e=>(e=>{e.disabled||(t("update:modelValue",e.value),t("change",e.value))})(a)},T(a.name),11,ea)))),128))]))}),[["__scopeId","data-v-01961c8e"]]),aa=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"}));const oa=u({name:"CbTable",props:{api:{type:Function,required:!1},params:{type:Object,default:()=>({})},pageSize:{type:Number,default:20},dataPath:{type:String,default:""},dataProcess:{type:Function,default:e=>e},showSelector:{type:Boolean,default:!1},showPagination:{type:Boolean,default:!0},exportConfig:{type:Object},showFilterBtns:{type:Boolean,default:!0}},emits:["selectionChange","localDataSource","update:params"],setup(e,t){const a=m(null),o=p({localLoading:!1,localDataSource:[],currentPage:1,currentPageSize:20,totalItem:0,selections:[]});async function n(){if(o.localLoading=!0,!e.api)return o.localLoading=!1,void(o.localDataSource=e.dataProcess());const a=await e.api(Object.assign({},e.params,{page:o.currentPage,per_page:o.currentPageSize})).finally((()=>{o.localLoading=!1}));o.totalItem=Vt(a,e.dataPath+"meta.total",0);const n=Vt(a,(e.dataPath?e.dataPath+".":"")+"data",[]);let r=e.dataProcess(n);Array.isArray(r)||(r=[]),e.showPagination&&r.length,o.localDataSource=r,t.emit("localDataSource",o.localDataSource)}function r(e){e&&(o.currentPage=1),n()}async function s(t){const a=new te.exports.Workbook;a.creator="管理员",a.lastModifiedBy=e.exportConfig.lastModifiedBy||"积分商城后台管理";const o=a.addWorksheet("Sheet1"),n="function"==typeof e.exportConfig.callback?await e.exportConfig.callback(t):[];o.addRows(n),a.xlsx.writeBuffer().then((t=>{const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});ae.exports.saveAs(a,e.exportConfig.fileName||"导出.xlsx")}))}return H((()=>{o.currentPageSize=e.pageSize})),n(),d(c({cbTable:a},J(o)),{handleSizeChange:function(e){void 0!==e&&(o.currentPageSize=e,r())},currentChange:function(e){o.currentPage=e,n()},refresh:r,resetParams:function(){let a=e.params;Object.keys(a).forEach((e=>{a[e]=""})),t.emit("update:params",a),N((()=>{r(!0)}))},onExportItem:function(t){switch(t){case"selected":s(o.selections);break;case"currentPage":s(o.localDataSource);break;default:{const t=e.exportConfig.exportAll;"function"==typeof t&&t()}}},handleSelectionChange:function(e){o.selections=e,t.emit("selectionChange",e)}})}}),na={key:0,class:"filter-btns"},ra=y("导出"),sa=y("导出选中项"),ia=y("导出当前页"),la=y("导出全部"),ca=y("筛选"),da=y("重置");var ua=_e(oa,[["render",function(e,t,a,o,n,r){const s=k("el-button"),i=k("el-dropdown-item"),l=k("el-dropdown-menu"),c=k("el-dropdown"),d=k("el-table-column"),u=k("el-table"),m=k("el-pagination"),p=oe("loading");return S(),f("div",null,[e.showFilterBtns||e.exportConfig?(S(),f("div",na,[e.exportConfig?(S(),I(c,{key:0,style:{"margin-right":"10px"}},{dropdown:v((()=>[b(l,null,{default:v((()=>[b(i,{disabled:0===e.selections.length,onClick:t[0]||(t[0]=t=>e.onExportItem("selected"))},{default:v((()=>[sa])),_:1},8,["disabled"]),b(i,{disabled:0===e.localDataSource.length,onClick:t[1]||(t[1]=t=>e.onExportItem("currentPage"))},{default:v((()=>[ia])),_:1},8,["disabled"]),e.exportConfig.exportAll?(S(),I(i,{key:0,onClick:e.onExportItem},{default:v((()=>[la])),_:1},8,["onClick"])):_("",!0)])),_:1})])),default:v((()=>[b(s,{icon:"el-icon-download",type:"success",size:"mini"},{default:v((()=>[ra])),_:1})])),_:1})):_("",!0),e.showFilterBtns?(S(),I(s,{key:1,type:"primary",size:"mini",onClick:t[2]||(t[2]=t=>e.refresh(!0))},{default:v((()=>[ca])),_:1})):_("",!0),e.showFilterBtns?(S(),I(s,{key:2,size:"mini",onClick:e.resetParams},{default:v((()=>[da])),_:1},8,["onClick"])):_("",!0)])):_("",!0),ne((S(),I(u,re({data:e.localDataSource,class:"cb-table",onSelectionChange:e.handleSelectionChange,ref:"cbTable",border:""},e.$attrs),{default:v((()=>[e.showSelector?(S(),I(d,{key:0,type:"selection",width:"55"})):_("",!0),Q(e.$slots,"default")])),_:3},16,["data","onSelectionChange"])),[[p,e.localLoading]]),e.showPagination?(S(),I(m,{key:1,class:"cb-table-pagination",onCurrentChange:e.currentChange,onSizeChange:e.handleSizeChange,"current-page":e.currentPage,"onUpdate:current-page":t[3]||(t[3]=t=>e.currentPage=t),layout:"total, sizes, prev, pager, next",total:e.totalItem,"page-size":e.currentPageSize},null,8,["onCurrentChange","onSizeChange","current-page","total","page-size"])):_("",!0)])}]]),ma=Object.freeze(Object.defineProperty({__proto__:null,default:ua},Symbol.toStringTag,{value:"Module"}));const pa=u({props:{modelValue:{type:Array,default:()=>[]},accept:{default:".gif,.jpg,.jpeg,.png",type:String},maxSize:{default:10,type:Number},maxCount:{default:0,type:Number},hint:{type:String},value:{type:Array,default:()=>[]},showHint:{type:Boolean,default:!0},namespace:{type:String,default:""}},emits:["change","uploading","onUpdate:modelValue"],setup(e,{emit:t}){const a=L(),o=null==a?void 0:a.appContext.config.globalProperties,n=p({localFileList:[],dialogVisible:!1,dialogImageUrl:""});return H((()=>{n.localFileList=Array.isArray(e.modelValue)?e.modelValue:Array.isArray(e.value)?e.value:[]})),d(c({},J(n)),{beforeUpload:function(t){if(e.maxSize){if(t.size/1024/1024>e.maxSize)return D.error(`上传的图片大小不能超过 ${e.maxSize} MB`),Promise.reject()}},httpRequest:function(a){const n=a.file,r=E().format("YYYYMMDDhhmmss"),s=$t(),i=n.name.substring(n.name.lastIndexOf(".")),l=e.namespace+"/"+r+"-"+s+i;o.$api.common.queryToke({name:l,expired_time:300}).then((e=>function(e,t,a,o){return new Promise(((n,r)=>{W(e,t,a).subscribe({next(e){o(e)},error(e){r(e)},complete(e){n(e)}})}))}(n,l,e.data.token,(e=>{a.onProgress({percent:e.total.percent}),t("uploading",e)})).then((t=>{const o=e.data.domain;let n=(-1===o.indexOf("https://")&&-1===o.indexOf("http://")?"http://":"")+o+"/"+t.key;a.onSuccess(d(c({},t),{url:n}))})))).catch((e=>{a.onError(e)}))},onPreview:function(e){n.dialogVisible=!0,n.dialogImageUrl=e.url},onRemove:function(e){const a=e.response&&e.response.url||e.url;n.localFileList=n.localFileList.filter((e=>e.url!==a)),t("change",n.localFileList),t("onUpdate:modelValue",n.localFileList)},uploadChange:function(e,a){n.localFileList=a,"success"===e.status&&function(e){let a=e.map((e=>({url:e.url,fileUrl:e.response&&e.response.url||e.fileUrl,status:e.status,name:e.name})));t("change",a),t("onUpdate:modelValue",a)}(a)}})}}),ga=h("i",{class:"el-icon-plus"},null,-1),fa={key:0,class:"el-upload__tip"};var ha=_e(pa,[["render",function(e,t,a,o,n,r){const s=k("el-upload"),i=k("el-image"),l=k("el-dialog");return S(),f(Z,null,[b(s,re({class:{cantUpload:e.localFileList.length>=e.maxCount&&0!==e.maxCount},limit:e.maxCount,accept:e.accept,action:"","list-type":"picture-card",ref:"product-image-upload"},e.$attrs,{"file-list":e.localFileList,"before-upload":e.beforeUpload,"http-request":e.httpRequest,"on-preview":e.onPreview,"on-remove":e.onRemove,"on-change":e.uploadChange}),{tip:v((()=>[e.showHint?(S(),f("div",fa,[e.hint?(S(),f(Z,{key:0},[y(T(e.hint)+"，",1)],64)):_("",!0),y("只能上传 "+T(e.accept)+" 文件，且不超过 "+T(e.maxSize)+"MB ",1)])):_("",!0)])),default:v((()=>[ga])),_:1},16,["class","limit","accept","file-list","before-upload","http-request","on-preview","on-remove","on-change"]),b(l,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dialogVisible=t)},{default:v((()=>[b(i,{src:e.dialogImageUrl},null,8,["src"])])),_:1},8,["modelValue"])],64)}]]),_a=Object.freeze(Object.defineProperty({__proto__:null,default:ha},Symbol.toStringTag,{value:"Module"}));function ba(){return{hasPermission:function(e){const t=yt.getters.getPermCodeList;return se.exports.isArray(e)?se.exports.intersection(e,t).length>0:t.includes(e)}}}const va={mounted:(e,t)=>{!function(e,t){const{hasPermission:a}=ba(),o=t.value;o&&(a(o)||e.parentNode.removeChild(e))}(e,t)}};function ya(e){!function(e){e.directive("auth",va)}(e)}const ka={default:"https://finch.cdn.cblink.net/common/image-default.jpg"};function Sa(e){e.config.globalProperties.$api=Rt();const{hasPermission:t}=ba();e.config.globalProperties.$hasPermission=t,function(e){e.config.globalProperties.$images=ka}(e)}!async function(){const e=ie(Dt);(e=>{const t={"../../components/CbEditor/index.vue":Wt,"../../components/CbPageWrapper/index.vue":Xt,"../../components/CbSelectCity/index.vue":Zt,"../../components/CbTab/index.vue":aa,"../../components/CbTable/index.vue":ma,"../../components/CbUpload/index.vue":_a};Object.keys(t).forEach((a=>{const o=t[a],n=a.split("/").splice(-2).shift();e.component(n,o.default||o)}))})(e),Sa(e),e.use(le),e.use(St),e.use(yt),yt.dispatch("buildRoutesAction"),ya(e),await St.isReady(),e.mount("#app")}();export{Ut as U,_e as _,Rt as a,ut as g,lt as i,yt as s,dt as t};
